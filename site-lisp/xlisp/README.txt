xlisp-mode lapse001 for xyzzy-0.2.2.235 or over version

 Copyright (C) 2008 knenet
 All rights reserved.
 <kneneglect_std@yahoo.co.jp>

他のlispの評価器と連携してみる。
別バッファのサブプロセスとして走らせる。

使い方 -*- mode:lisp -*-

このファイルをsite-lispにでも置いておく。

.xyzzyとかに以下を書く。

(require "xlisp-mode") ; 準備する。
(xlisp-profile "Arc" ; モード名。
	       :exe "c:/MzScheme/MzScheme.exe" ; 評価器位置。
	       :cmd "-m -f as.scm" ; パラメータ。
	       :dir "c:/MzScheme/" ; 実行ディレクトリ（デフォルトはファイル位置）
	       :env nil ; 環境変数。
	       :run-char #\LFD) ; 改行文字（デフォルトは#\LFD）
;プロファイルはいくつでもＯＫ。ただし、モード名が同じものは上書きされる。

モード名と同じ名前のキーワードリストをetc-pathに置く。
モード変更したいバッファに以下を書いておく（Arcの場合）。

;; -*- mOdE:xLiSp;ArC -*-

モード名が変わっていたら成功。
lispmodeを直接読み込んでいるので、プロファイルがなければlisp-modeになる。

追加機能は次のコマンド。

C-x LFD S式を評価器に送る。
C-x F5 バッファを評価器に送る。
C-x C-- 1行を評価器に送る。

コマンドを使って、評価器が呼び出されているのに反応がない場合は、改行文字を変えてみると良い。
例えば、GNU CLISPは#\RETで評価を始めるようだ。

ファイルを閉じるときに評価器が残っていれば、そのバッファを表示してプロセスを終了する。

履歴

lapse001 2008-03-27 00:45 とりあえず動くよ。

権利・責任関係

日本国の著作権法が適用される範囲でknenetが著作権を持つ。
細かく見ると、どこにも主張するべき点がなさそうだけれども。
ライセンスは以下の通り。MIT Licenseと同等であると考えて良い。

配布、改造、編纂等の再利用を許可する。二次創作物の権利は一切主張しない（し得ない）。
ただし、ファイルのバージョンや作成・配布元が区別できるように名前や表示を考慮すること。
後に情報元がたどれるように、著作権表示を明記すること。
何人も、このプログラムによって生じた損益について責任を持たない。
このプログラムを使用する者は、同時にこのライセンスを許諾しているものとみなす。


